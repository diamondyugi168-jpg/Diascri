--// Delta Combo Keyboard (Fast & Stable)
local VIM = game:GetService("VirtualInputManager")

--// GUI
local gui = Instance.new("ScreenGui")
gui.Name = "DeltaKeyboard"
gui.ResetOnSpawn = false
gui.Parent = gethui()

local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0, 320, 0, 120)
main.Position = UDim2.new(1, -340, 0.35, -60)
main.BackgroundColor3 = Color3.fromRGB(25,25,25)
main.BackgroundTransparency = 0.35
main.BorderSizePixel = 0

--// TOGGLE
local toggle = Instance.new("TextButton", gui)
toggle.Size = UDim2.new(0, 50, 0, 50)
toggle.Position = UDim2.new(1, -60, 1, -60)
toggle.Text = "KB"
toggle.TextSize = 18
toggle.BackgroundTransparency = 0.2
toggle.BorderSizePixel = 0

local open = true
toggle.MouseButton1Click:Connect(function()
	open = not open
	main.Visible = open
end)

--// TAP (กันผสม)
local function tap(key, delay)
	VIM:SendKeyEvent(true, key, false, game)
	task.wait(delay or 0.05)
	VIM:SendKeyEvent(false, key, false, game)
	task.wait(0.01)
end

--// DASH (เก็บไว้)
local function Dash()
	tap(Enum.KeyCode.R)
	tap(Enum.KeyCode.Space)
	tap(Enum.KeyCode.Space, 0.04)
end

--// LOOP NINE
local loopNineRunning = false

local function LoopNine()
	while loopNineRunning do
		tap(Enum.KeyCode.R, 0.05)
		tap(Enum.KeyCode.K, 0.05)
		tap(Enum.KeyCode.K, 0.05)

		tap(Enum.KeyCode.R, 0.05)
		tap(Enum.KeyCode.L, 0.05)
		tap(Enum.KeyCode.K, 0.05)

		tap(Enum.KeyCode.R, 0.05)
		tap(Enum.KeyCode.Space, 0.05)
		tap(Enum.KeyCode.K, 0.05)
	end
end

--// BUTTON (กดครั้งเดียว)
local function btn(text, x, y, func)
	local b = Instance.new("TextButton", main)
	b.Size = UDim2.new(0, 120, 0, 36)
	b.Position = UDim2.new(0, x, 0, y)
	b.Text = text
	b.TextSize = 15
	b.BackgroundTransparency = 0.15
	b.BorderSizePixel = 0
	b.MouseButton1Click:Connect(func)
end

--// HOLD BUTTON (กดค้าง)
local function holdBtn(text, x, y, onStart, onStop)
	local b = Instance.new("TextButton", main)
	b.Size = UDim2.new(0, 180, 0, 36)
	b.Position = UDim2.new(0, x, 0, y)
	b.Text = text
	b.TextSize = 15
	b.BackgroundTransparency = 0.15
	b.BorderSizePixel = 0

	b.MouseButton1Down:Connect(onStart)
	b.MouseButton1Up:Connect(onStop)
	b.MouseLeave:Connect(onStop)
end

--// LAYOUT
holdBtn("LOOP NINE (HOLD)", 20, 10,
	function()
		if loopNineRunning then return end
		loopNineRunning = true
		task.spawn(LoopNine)
	end,
	function()
		loopNineRunning = false
	end
)

btn("Dash", 20, 60, Dash)
